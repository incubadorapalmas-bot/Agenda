<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <title>Agenda Incubadora IFPR / PMP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- Firebase (ajusta as vers√µes se j√° estiver usando outras) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- Configura√ß√£o do Firebase -->
  <script src="firebase-config.js"></script>

  <!-- Tema (dark / light) -->
  <script src="theme.js" defer></script>

  <!-- App -->
  <script src="app.js" defer></script>
</head>
<body>
  <!-- TOPO / CABE√áALHO -->
  <header class="topo">
    <div class="container topo__conteudo">
      <div class="topo__branding">
        <div class="topo__logos">
          <!-- Ajusta os caminhos das imagens conforme voc√™ tem no projeto -->
          <img src="img/logo-ifpr.png" alt="IFPR" class="logo" />
          <img src="img/logo-prefeitura.png" alt="Prefeitura de Palmas" class="logo" />
          <img src="img/logo-incubadora.png" alt="Incubadora IFPR/PMP" class="logo" />
        </div>
        <div>
          <h1>Agenda Incubadora IFPR / PMP</h1>
          <p class="subtitulo">Controle de eventos, fotos e relat√≥rios gerenciais em PDF</p>
        </div>
      </div>

      <div class="topo__acoes">
        <!-- BOT√ïES DE PDF NO CABE√áALHO -->
        <button id="btnPdfCompleto" class="btn primario">
          Relat√≥rio completo
        </button>
        <button id="btnPdfSimples" class="btn secundario">
          Agenda simplificada
        </button>

        <!-- Bot√£o de tema (opcional, usa o theme.js) -->
        <button id="btnToggleTema" class="btn toggle-tema" title="Alternar tema">
          üåì
        </button>
      </div>
    </div>
  </header>

  <main class="container principal">
    <!-- CARD FORMUL√ÅRIO -->
    <section id="form-section" class="card">
      <h2 id="formTituloModo">Cadastrar novo evento</h2>
      <p class="subtexto">
        Registre atendimentos, orienta√ß√µes, reuni√µes e outras a√ß√µes da incubadora.
      </p>

      <form id="eventoForm">
        <input type="hidden" id="eventoId" />

        <div class="linha">
          <div class="campo">
            <label for="evento">Tipo de evento</label>
            <select id="evento" required>
              <option value="">Selecione...</option>
              <option>Orienta√ß√£o</option>
              <option>Atendimento</option>
              <option>Alinhamento</option>
              <option>Reuni√£o</option>
              <option>Participa√ß√£o</option>
              <option>Visita T√©cnica</option>
              <option>Outro</option>
            </select>
          </div>

          <div class="campo">
            <label for="local">Local</label>
            <input type="text" id="local" />
          </div>

          <div class="campo">
            <label for="endereco">Endere√ßo</label>
            <input type="text" id="endereco" />
          </div>
        </div>

        <div class="linha">
          <div class="campo">
            <label for="dataInicio">Data in√≠cio</label>
            <input type="date" id="dataInicio" />
          </div>
          <div class="campo">
            <label for="dataFim">Data fim</label>
            <input type="date" id="dataFim" />
          </div>
          <div class="campo">
            <label for="formato">Formato</label>
            <select id="formato">
              <option>Presencial</option>
              <option>Online</option>
              <option>H√≠brido</option>
            </select>
          </div>
        </div>

        <div class="linha">
          <div class="campo">
            <label for="horaInicio">Hor√°rio in√≠cio</label>
            <input type="time" id="horaInicio" />
          </div>
          <div class="campo">
            <label for="horaFim">Hor√°rio fim</label>
            <input type="time" id="horaFim" />
          </div>
          <div class="campo">
            <label for="participante">Participante / respons√°vel</label>
            <input type="text" id="participante" />
          </div>
        </div>

        <div class="campo">
          <label for="pauta">Pauta</label>
          <textarea id="pauta" rows="2"></textarea>
        </div>

        <div class="campo">
          <label for="comentario">Coment√°rio</label>
          <textarea id="comentario" rows="3"></textarea>
        </div>

        <!-- FOTOS -->
        <div class="campo">
          <label>Fotos do evento</label>
          <div id="dropArea" class="drop-area">
            Arraste e solte as fotos aqui ou <span class="drop-area__link">clique para selecionar</span>
          </div>
          <input type="file" id="fotos" accept="image/*" multiple hidden />
          <div id="novasFotosPreview" class="novas-fotos"></div>
        </div>

        <div id="fotosAtuaisWrapper" class="fotos-atuais oculto">
          <div class="fotos-atuais__titulo">Fotos j√° cadastradas para este evento:</div>
          <div id="fotosAtuais" class="fotos-grid"></div>
        </div>

        <div class="botoes-form">
          <button type="submit" id="btnSalvar" class="btn primario">
            Salvar evento
          </button>
          <button type="button" id="btnCancelarEdicao" class="btn secundario oculto">
            Cancelar edi√ß√£o
          </button>
        </div>
      </form>
    </section>

    <!-- CARD LISTA / TABELA -->
    <section id="lista-section" class="card">
      <div class="cabecalho-lista">
        <div>
          <h2>Eventos cadastrados</h2>
          <p class="subtexto">
            Clique em uma linha ou em ‚ÄúEditar / Fotos‚Äù para alterar o relat√≥rio do evento.
          </p>
        </div>

        <div class="filtros">
          <label>
            De:
            <input type="date" id="filtroDe" />
          </label>
          <label>
            At√©:
            <input type="date" id="filtroAte" />
          </label>
          <button type="button" id="btnFiltrar" class="btn primario">Filtrar</button>
          <button type="button" id="btnLimparFiltro" class="btn secundario">Limpar</button>
        </div>
      </div>

      <div class="tabela-container">
        <table id="tabelaEventos">
          <thead>
            <tr>
              <th>Data</th>
              <th>Evento</th>
              <th>Local</th>
              <th>Endere√ßo</th>
              <th>Hor√°rio</th>
              <th>Formato</th>
              <th>Participante</th>
              <th>Pauta</th>
              <th>Coment√°rio</th>
              <th class="acao-col">A√ß√µes</th>
            </tr>
          </thead>
          <tbody>
            <!-- preenchido via app.js -->
          </tbody>
        </table>
      </div>

      <div class="relatorios">
        <span>Relat√≥rios gerais: use os bot√µes no cabe√ßalho.</span>
      </div>
    </section>
  </main>

  <footer class="rodape">
    Agenda Incubadora IFPR / PMP ‚Äî Firebase Firestore + Storage
  </footer>
</body>
</html>
